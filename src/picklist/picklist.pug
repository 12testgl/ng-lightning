.slds-picklist(nglDropdown, [open]="open", (openChange)="openChange.emit($event)", [ngClass]="{'slds-picklist--fluid': fluid}")
  button.slds-button.slds-button--neutral.slds-picklist__label(type="button", nglDropdownTrigger, [disabled]="disabled")
    ng-content
    svg.slds-icon(nglIcon="down")
  .slds-dropdown([class.slds-p-top--none]="hasFilter", [ngClass]="dropdownClass")
    input.slds-input(*ngIf="hasFilter", #filterInput, type="text", [attr.placeholder]="filterPlaceholder", [ngModel]="filter", (ngModelChange)="filterChange($event)",
                    (keydown.enter)="onFilterPick()", (keydown.arrowdown)="setFilterActive(1, $event)", (keydown.arrowup)="setFilterActive(-1, $event)",
                    (focus)="onFilterFocus()", (blur)="onFilterBlur()")
    ul.slds-dropdown__list(role="menu", [ngClass]="dropdownListClass")
      template(ngFor, let-group, [ngForOf]="groupedData" let-groupIndex="index")
        li(*ngIf="group.category" role="presentation")
          span.slds-lookup__item--label(role="presentation")
            h3.slds-text-title--caps(role="presentation") {{group.category}}
        li.slds-dropdown__item(*ngFor="let item of group.options; let optionIndex = index", [nglPickOption]="item", nglPickActiveClass="slds-is-selected",
          [class.slds-is-active]="isOptionActive(optionIndex, groupIndex)", (mouseover)="onOptionHover(optionIndex, groupIndex)")
          a(role="menuitem", nglDropdownItem)
            p.slds-truncate
              svg.slds-icon.slds-icon--selected.slds-icon--x-small.slds-icon-text-default.slds-m-right--x-small(nglIcon="check")
              template([ngTemplateOutlet]="itemTemplate?.templateRef", [ngOutletContext]="{$implicit: item}")
